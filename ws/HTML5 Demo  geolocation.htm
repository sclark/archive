<!DOCTYPE html>
<!-- saved from url=(0025)http://html5demos.com/geo -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">@media print {  .gmnoprint {    display:none  }}@media screen {  .gmnoscreen {    display:none  }}</style>
<meta charset="utf-8">
<meta name="viewport" content="width=620">
<title>HTML5 Demo: geolocation</title>
<link rel="stylesheet" href="./HTML5 Demo  geolocation_files/html5demos.css" type="text/css">
<script src="./HTML5 Demo  geolocation_files/h5utils.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/{common,map,util,marker}.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/{onion,style}.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/{controls}.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/ViewportInfoService.GetViewportInfo"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/{stats}.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/ft"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/{infowindow}.js"></script><script type="text/javascript" charset="UTF-8" src="./HTML5 Demo  geolocation_files/AuthenticationService.Authenticate"></script></head>
<body>
<section id="wrapper">
    <header>
      <h1>geolocation</h1>
    </header><meta name="viewport" content="width=620">

<script type="text/javascript" src="./HTML5 Demo  geolocation_files/js"></script><script src="./HTML5 Demo  geolocation_files/main.js" type="text/javascript"></script>
    <article>
      <p>Finding your location: <span id="status" class="success">found you!</span></p>
    <div id="mapcanvas" style="height: 400px; width: 560px; position: relative; background-color: rgb(229, 227, 223); overflow-x: hidden; overflow-y: hidden; "><div style="position: absolute; left: 0px; top: 0px; overflow-x: hidden; overflow-y: hidden; width: 100%; height: 100%; z-index: 0; "><div style="position: absolute; left: 0px; top: 0px; overflow-x: hidden; overflow-y: hidden; width: 100%; height: 100%; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; cursor: url(http://maps.gstatic.com/intl/en_us/mapfiles/openhand_8_8.cur), default; -webkit-transform: translate(0px, 0px) scale(1); "><div style="z-index: 100; position: absolute; left: 0px; top: 0px; "><div style="position: absolute; left: 0px; top: 0px; z-index: 0; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="width: 256px; height: 256px; position: absolute; left: 45px; top: 165px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 301px; top: 165px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 301px; top: -91px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 45px; top: -91px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 45px; top: 421px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 301px; top: 421px; "></div><div style="width: 256px; height: 256px; position: absolute; left: -211px; top: 165px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 557px; top: 165px; "></div><div style="width: 256px; height: 256px; position: absolute; left: -211px; top: 421px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 557px; top: -91px; "></div><div style="width: 256px; height: 256px; position: absolute; left: -211px; top: -91px; "></div><div style="width: 256px; height: 256px; position: absolute; left: 557px; top: 421px; "></div></div></div></div><div style="z-index: 101; position: absolute; left: 0px; top: 0px; "></div><div style="z-index: 102; position: absolute; left: 0px; top: 0px; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: 165px; "><canvas style="position: absolute; left: 0px; top: 0px; " height="256" width="256"></canvas></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: 165px; "><canvas style="position: absolute; left: 0px; top: 0px; " height="256" width="256"></canvas></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: 165px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: 165px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: 421px; "></div></div></div></div><div style="z-index: 103; position: absolute; left: 0px; top: 0px; "><div style="position: absolute; left: 0px; top: 0px; z-index: -1; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: 165px; "><canvas style="position: absolute; left: 0px; top: 0px; " height="256" width="256"></canvas></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: 165px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 45px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 301px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: 165px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: 165px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: 421px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: -211px; top: -91px; "></div><div style="width: 256px; height: 256px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 557px; top: 421px; "></div></div></div></div><div style="z-index: 104; position: absolute; left: 0px; top: 0px; "></div><div style="z-index: 105; position: absolute; left: 0px; top: 0px; "></div><div style="z-index: 106; position: absolute; left: 0px; top: 0px; "></div><div style="position: absolute; z-index: 0; left: 0px; top: 0px; "><div style="overflow-x: hidden; overflow-y: hidden; width: 560px; height: 400px; "><img style="width: 560px; height: 400px; " src="./HTML5 Demo  geolocation_files/StaticMapService.GetMapImage"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="position: absolute; left: 0px; top: 0px; z-index: 1; "><div style="position: absolute; left: 301px; top: 165px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt"></div><div style="position: absolute; left: 301px; top: -91px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(1)"></div><div style="position: absolute; left: 301px; top: 421px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(2)"></div><div style="position: absolute; left: -211px; top: 165px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(3)"></div><div style="position: absolute; left: -211px; top: 421px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(4)"></div><div style="position: absolute; left: -211px; top: -91px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(5)"></div><div style="position: absolute; left: 45px; top: 165px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(6)"></div><div style="position: absolute; left: 45px; top: -91px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(7)"></div><div style="position: absolute; left: 45px; top: 421px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(8)"></div><div style="position: absolute; left: 557px; top: 165px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(9)"></div><div style="position: absolute; left: 557px; top: -91px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(10)"></div><div style="position: absolute; left: 557px; top: 421px; width: 256px; height: 256px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 256px; height: 256px; " src="./HTML5 Demo  geolocation_files/vt(11)"></div></div></div></div></div><div style="margin-top: 2px; margin-bottom: 2px; margin-left: 2px; margin-right: 5px; z-index: 12; position: absolute; left: 0px; bottom: 0px; "><a style="position: static; overflow-x: visible; overflow-y: visible; float: none; display: inline; " title="Click to see this area on Google Maps" target="_blank" href="http://maps.google.com/maps?ll=32.83219,-117.082198&z=15&t=m"><div style="width: 62px; height: 24px; cursor: pointer; "><img style="position: absolute; left: 0px; top: 0px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 62px; height: 24px; " src="./HTML5 Demo  geolocation_files/google_white.png"></div></a></div><div style="z-index: 1000; position: absolute; right: 0px; bottom: 0px; "><div style="position: static; overflow-x: visible; overflow-y: visible; float: none; color: black; font-family: Arial, sans-serif; -webkit-user-select: none; display: block; font-size: 11px; white-space: nowrap; text-align: right; padding-top: 2px; padding-right: 2px; padding-bottom: 2px; padding-left: 2px; direction: ltr; "><span style="text-decoration: underline; cursor: pointer; color: rgb(119, 119, 204); display: none; ">Map Data</span><span style="color: rgb(0, 0, 0); ">Map data ©2011 Google</span><span style="color: rgb(0, 0, 0); "> - </span><a href="http://www.google.com/intl/en-US_US/help/terms_maps.html" target="_blank" style="color: rgb(119, 119, 204); ">Terms of Use</a></div></div><div style="position: absolute; font-family: Arial, sans-serif; z-index: 1000; overflow-x: visible; overflow-y: visible; -webkit-user-select: none; cursor: default; display: none; width: 300px; height: 180px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; position: relative; opacity: 0.9; width: 300px; height: 180px; " src="./HTML5 Demo  geolocation_files/iphone-dialog-bg.png"><div style="font-weight: bold; color: white; text-align: center; padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 5px; position: absolute; left: 0px; top: 0px; font-size: 16px; width: 290px; ">Map Data</div><div style="position: absolute; font-family: inherit; bottom: 15px; cursor: pointer; background-color: transparent; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; font-size: 14px; left: 90px; width: 120px; height: 40px; "><img style="position: absolute; left: 0px; top: 0px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 120px; height: 40px; " src="./HTML5 Demo  geolocation_files/iphone-dialog-button.png"><span style="color: white; text-align: center; width: 100%; height: 100%; background-color: transparent; position: absolute; left: 0px; top: 0px; padding-top: 10px; ">Close</span></div><div style="color: white; text-align: center; font-size: 14px; position: absolute; left: 25px; top: 45px; width: 250px; ">Map data ©2011 Google</div></div><div class="gmnoprint" style="z-index: 10; margin-top: 5px; margin-right: 5px; margin-bottom: 5px; margin-left: 5px; -webkit-user-select: none; position: absolute; left: 0px; top: 0px; " controlwidth="32" controlheight="85"><div style="cursor: url(http://maps.gstatic.com/intl/en_us/mapfiles/openhand_8_8.cur), default; z-index: 10; position: absolute; left: 0px; top: 0px; " controlwidth="32" controlheight="38"><div style="width: 32px; height: 38px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 0px; top: 0px; "><img style="position: absolute; left: -9px; top: -102px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; -webkit-user-drag: none; width: 1029px; height: 255px; " src="./HTML5 Demo  geolocation_files/cb_scout_sprite_api_002.png"></div><div style="width: 32px; height: 38px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden; "><img style="position: absolute; left: -107px; top: -102px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; -webkit-user-drag: none; width: 1029px; height: 255px; " src="./HTML5 Demo  geolocation_files/cb_scout_sprite_api_002.png"></div><div style="width: 32px; height: 38px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden; "><img style="position: absolute; left: -58px; top: -102px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; -webkit-user-drag: none; width: 1029px; height: 255px; " src="./HTML5 Demo  geolocation_files/cb_scout_sprite_api_002.png"></div><div style="width: 32px; height: 38px; overflow-x: hidden; overflow-y: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden; "><img style="position: absolute; left: -205px; top: -102px; -webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; -webkit-user-drag: none; width: 1029px; height: 255px; " src="./HTML5 Demo  geolocation_files/cb_scout_sprite_api_002.png"></div></div><div class="gmnoprint" controlwidth="0" controlheight="0" style="display: none; position: absolute; "><img src="./HTML5 Demo  geolocation_files/rotate.png" style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; cursor: pointer; width: 20px; height: 20px; " title="Rotate map 90 degrees"></div><div class="gmnoprint" controlwidth="19" controlheight="42" style="position: absolute; left: 7px; top: 43px; "><img style="-webkit-user-select: none; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; width: 19px; height: 42px; " src="./HTML5 Demo  geolocation_files/szc3d.png"><div style="position: absolute; left: 0px; top: 0px; width: 19px; height: 21px; cursor: pointer; " title="Zoom in"></div><div style="position: absolute; left: 0px; top: 21px; width: 19px; height: 21px; cursor: pointer; " title="Zoom out"></div></div></div></div></div></article>
<script>
function success(position) {
  var s = document.querySelector('#status');
  
  if (s.className == 'success') {
    // not sure why we're hitting this twice in FF, I think it's to do with a cached result coming back    
    return;
  }
  
  s.innerHTML = "found you!";
  s.className = 'success';
  
  var mapcanvas = document.createElement('div');
  mapcanvas.id = 'mapcanvas';
  mapcanvas.style.height = '400px';
  mapcanvas.style.width = '560px';
    
  document.querySelector('article').appendChild(mapcanvas);
  
  var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
  var myOptions = {
    zoom: 15,
    center: latlng,
    mapTypeControl: false,
    navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(document.getElementById("mapcanvas"), myOptions);
  
  var marker = new google.maps.Marker({
      position: latlng, 
      map: map, 
      title:"You are here!"
  });
}

function error(msg) {
  var s = document.querySelector('#status');
  s.innerHTML = typeof msg == 'string' ? msg : "failed";
  s.className = 'fail';
  
  // console.log(arguments);
}

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(success, error);
} else {
  error('not supported');
}

</script><a id="html5badge" href="http://www.w3.org/html/logo/">
<img src="./HTML5 Demo  geolocation_files/html5-badge-h-connectivity-device-graphics-multimedia-performance-semantics-storage.png" width="325" height="64" alt="HTML5 Powered with Connectivity / Realtime, Device Access, Graphics, 3D &amp; Effects, Multimedia, Performance &amp; Integration, Semantics, and Offline &amp; Storage" title="HTML5 Powered with Connectivity / Realtime, Device Access, Graphics, 3D &amp; Effects, Multimedia, Performance &amp; Integration, Semantics, and Offline &amp; Storage">
</a>
    <footer><a href="http://html5demos.com/">HTML5 demos</a>/<a id="built" href="http://twitter.com/rem">@rem built this</a>/<a href="http://html5demos.com/geo#view-source">view source</a></footer> 
</section>
<a href="http://github.com/remy/html5demos"><img style="position: absolute; top: 0; left: 0; border: 0;" src="./HTML5 Demo  geolocation_files/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<script src="./HTML5 Demo  geolocation_files/prettify.packed.js"></script>
<script>
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./HTML5 Demo  geolocation_files/ga.js" type="text/javascript"></script>
<script>
try {
var pageTracker = _gat._getTracker("UA-1656750-18");
pageTracker._trackPageview();
} catch(err) {}</scr